@startuml
title Shop::registerCustomer(customer : Customer) : Boolean

start
if (self.customers->exists(c | c.email = customer.email)) then ([true])
  :return false;
  stop
else ([false])
  :self.customers := self.customers->including(customer);
  :return true;
  stop
endif
@enduml
