@startuml
title Seat::reserve(p : Passenger) : Reservation

start
if (this.status <> SeatStatus::Available) then ([true])
  :raise("Seat is already reserved.");
  stop
else ([false])
  :r := new Reservation;
  :r.passenger := p;
  :r.seat := this;
  :r.reservationDate := now();
  :s.status := SeatStatus::Reserved;
  :return r;
  stop
endif
@enduml
