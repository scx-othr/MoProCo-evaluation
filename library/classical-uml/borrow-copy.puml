@startuml
title Member::borrowCopy(copy : Copy) : Loan

start
if (copy.status <> CopyStatus::Available) then ([true])
  :raise("Copy is not available.");
  stop
else ([false])
  :l := new Loan;
  :l.copy := copy;
  :l.member := this;
  :l.loanDate := now();
  :l.dueDate := now().plusWeeks(6);
  :copy.status := CopyStatus::OnLoan;
  :l.closed := false;
  :return l;
  stop
endif
@enduml
