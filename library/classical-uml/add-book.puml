@startuml
title Library::addBook(b : Book)

start
if (self.books->exists(x | x.isbn = b.isbn)) then ([true])
  :raise("Book with this ISBN is already registered.");
  stop
else ([false])
  :self.books := self.books->including(b);
  stop
endif
@enduml
